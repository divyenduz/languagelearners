-- MySQL dump 10.13  Distrib 5.7.27, for osx10.14 (x86_64)
--
-- Host: 127.0.0.1    Database: languagelearners@dev
-- ------------------------------------------------------
-- Server version	5.7.29

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `Payment`
--

DROP TABLE IF EXISTS `Payment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Payment` (
  `amount` int(11) NOT NULL DEFAULT '0',
  `createdAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  `id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `provider_payment_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `provider_subscription_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `subscription` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `updatedAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  `user` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `Payment.provider_payment_id` (`provider_payment_id`),
  KEY `subscription` (`subscription`),
  KEY `user` (`user`),
  CONSTRAINT `Payment_ibfk_1` FOREIGN KEY (`subscription`) REFERENCES `SubscriptionPlan` (`id`) ON DELETE SET NULL,
  CONSTRAINT `Payment_ibfk_2` FOREIGN KEY (`user`) REFERENCES `User` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Payment`
--

LOCK TABLES `Payment` WRITE;
/*!40000 ALTER TABLE `Payment` DISABLE KEYS */;
/*!40000 ALTER TABLE `Payment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SubscriptionPlan`
--

DROP TABLE IF EXISTS `SubscriptionPlan`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SubscriptionPlan` (
  `id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `provider_plan_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `provider_subscription_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SubscriptionPlan`
--

LOCK TABLES `SubscriptionPlan` WRITE;
/*!40000 ALTER TABLE `SubscriptionPlan` DISABLE KEYS */;
/*!40000 ALTER TABLE `SubscriptionPlan` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Telemetry`
--

DROP TABLE IF EXISTS `Telemetry`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Telemetry` (
  `createdAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  `filename` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `telemetry_key` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `type` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PROVIDER_PAYMENT_EVENT',
  `updatedAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Telemetry`
--

LOCK TABLES `Telemetry` WRITE;
/*!40000 ALTER TABLE `Telemetry` DISABLE KEYS */;
/*!40000 ALTER TABLE `Telemetry` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `User`
--

DROP TABLE IF EXISTS `User`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `User` (
  `createdAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  `id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plan` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PAST',
  `provider_customer_id` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `source_language` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'AUTO',
  `subscription` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `target_language` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'DE',
  `telegram_chat_id` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `telegram_id` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `type` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'USER',
  `updatedAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00.000',
  `email` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `first_name` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_name` varchar(191) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `User.email` (`email`),
  UNIQUE KEY `User.telegram_chat_id` (`telegram_chat_id`),
  UNIQUE KEY `User.telegram_id` (`telegram_id`),
  KEY `subscription` (`subscription`),
  CONSTRAINT `User_ibfk_1` FOREIGN KEY (`subscription`) REFERENCES `SubscriptionPlan` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `User`
--

LOCK TABLES `User` WRITE;
/*!40000 ALTER TABLE `User` DISABLE KEYS */;
INSERT INTO `User` VALUES ('2020-03-14 23:49:14.303','ck7s9hpry0000pp1mtgwhyf6o','GUEST',NULL,'EN',NULL,'HI','208320899','208320899','USER','2020-03-14 23:49:14.303','divyendu.z@gmail.com','Divyendu','Singh');
/*!40000 ALTER TABLE `User` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `_Migration`
--

DROP TABLE IF EXISTS `_Migration`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `_Migration` (
  `revision` int(11) NOT NULL AUTO_INCREMENT,
  `name` text NOT NULL,
  `datamodel` longtext NOT NULL,
  `status` text NOT NULL,
  `applied` int(11) NOT NULL,
  `rolled_back` int(11) NOT NULL,
  `datamodel_steps` longtext NOT NULL,
  `database_migration` longtext NOT NULL,
  `errors` longtext NOT NULL,
  `started_at` datetime(3) NOT NULL,
  `finished_at` datetime(3) DEFAULT NULL,
  PRIMARY KEY (`revision`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `_Migration`
--

LOCK TABLES `_Migration` WRITE;
/*!40000 ALTER TABLE `_Migration` DISABLE KEYS */;
INSERT INTO `_Migration` VALUES (1,'20200315045746-init','enum SourceLanguage {\n  AUTO\n  EN\n  DE\n  ES\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String            @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n}','MigrationSuccess',10,0,'[{\"tag\":\"CreateEnum\",\"enum\":\"SourceLanguage\",\"values\":[\"AUTO\",\"EN\",\"DE\",\"ES\"]},{\"tag\":\"CreateEnum\",\"enum\":\"TargetLanguage\",\"values\":[\"EN\",\"DE\",\"ES\"]},{\"tag\":\"CreateEnum\",\"enum\":\"Plan\",\"values\":[\"PAST\",\"GUEST\",\"INTRO_5\",\"PLAN_9\",\"YEARLY_100\",\"LIFETIME_199\"]},{\"tag\":\"CreateEnum\",\"enum\":\"TelemetryType\",\"values\":[\"PROVIDER_PAYMENT_EVENT\"]},{\"tag\":\"CreateEnum\",\"enum\":\"UserType\",\"values\":[\"ADMIN\",\"USER\"]},{\"tag\":\"CreateSource\",\"source\":\"db\"},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Source\",\"source\":\"db\"},\"argument\":\"provider\",\"value\":\"\\\"mysql\\\"\"},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Source\",\"source\":\"db\"},\"argument\":\"url\",\"value\":\"env(\\\"DB_URL\\\")\"},{\"tag\":\"CreateModel\",\"model\":\"Payment\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"id\"},\"directive\":\"id\"}},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"id\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"id\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"cuid()\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"createdAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"createdAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"createdAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"updatedAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"updatedAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"updatedAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"amount\",\"type\":\"Int\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"provider_subscription_id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"provider_payment_id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Payment\",\"field\":\"provider_payment_id\"},\"directive\":\"unique\"}},{\"tag\":\"CreateField\",\"model\":\"Payment\",\"field\":\"subscription\",\"type\":\"SubscriptionPlan\",\"arity\":\"Optional\"},{\"tag\":\"CreateModel\",\"model\":\"SubscriptionPlan\"},{\"tag\":\"CreateField\",\"model\":\"SubscriptionPlan\",\"field\":\"id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"SubscriptionPlan\",\"field\":\"id\"},\"directive\":\"id\"}},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"SubscriptionPlan\",\"field\":\"id\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"SubscriptionPlan\",\"field\":\"id\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"cuid()\"},{\"tag\":\"CreateField\",\"model\":\"SubscriptionPlan\",\"field\":\"provider_plan_id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"SubscriptionPlan\",\"field\":\"provider_subscription_id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"SubscriptionPlan\",\"field\":\"payments\",\"type\":\"Payment\",\"arity\":\"List\"},{\"tag\":\"CreateField\",\"model\":\"SubscriptionPlan\",\"field\":\"users\",\"type\":\"User\",\"arity\":\"List\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"SubscriptionPlan\",\"field\":\"users\"},\"directive\":\"relation\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"SubscriptionPlan\",\"field\":\"users\"},\"directive\":\"relation\"},\"argument\":\"references\",\"value\":\"[subscription]\"},{\"tag\":\"CreateModel\",\"model\":\"Telemetry\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"id\"},\"directive\":\"id\"}},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"id\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"id\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"cuid()\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"createdAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"createdAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"createdAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"updatedAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"updatedAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"Telemetry\",\"field\":\"updatedAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"filename\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"payload\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"telemetry_key\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"Telemetry\",\"field\":\"type\",\"type\":\"TelemetryType\",\"arity\":\"Required\"},{\"tag\":\"CreateModel\",\"model\":\"User\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"id\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"id\"},\"directive\":\"id\"}},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"id\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"id\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"cuid()\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"createdAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"createdAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"createdAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"updatedAt\",\"type\":\"DateTime\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"updatedAt\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"updatedAt\"},\"directive\":\"default\"},\"argument\":\"\",\"value\":\"now()\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"email\",\"type\":\"String\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"email\"},\"directive\":\"unique\"}},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"plan\",\"type\":\"Plan\",\"arity\":\"Required\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"provider_customer_id\",\"type\":\"String\",\"arity\":\"Optional\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"source_language\",\"type\":\"SourceLanguage\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"source_language\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"source_language\"},\"directive\":\"default\"},\"argument\":\"value\",\"value\":\"AUTO\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"target_language\",\"type\":\"TargetLanguage\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"target_language\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"target_language\"},\"directive\":\"default\"},\"argument\":\"value\",\"value\":\"DE\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"telegram_chat_id\",\"type\":\"String\",\"arity\":\"Optional\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"telegram_chat_id\"},\"directive\":\"unique\"}},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"telegram_id\",\"type\":\"String\",\"arity\":\"Optional\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"telegram_id\"},\"directive\":\"unique\"}},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"type\",\"type\":\"UserType\",\"arity\":\"Required\"},{\"tag\":\"CreateDirective\",\"location\":{\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"type\"},\"directive\":\"default\"}},{\"tag\":\"CreateArgument\",\"location\":{\"tag\":\"Directive\",\"path\":{\"tag\":\"Field\",\"model\":\"User\",\"field\":\"type\"},\"directive\":\"default\"},\"argument\":\"value\",\"value\":\"USER\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"subscription\",\"type\":\"SubscriptionPlan\",\"arity\":\"Optional\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"payment\",\"type\":\"Payment\",\"arity\":\"List\"}]','{\"before\":{\"tables\":[{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[{\"CreateTable\":{\"table\":{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}}},{\"CreateTable\":{\"table\":{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]}}},{\"CreateTable\":{\"table\":{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]}}},{\"CreateTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}}},{\"AddForeignKey\":{\"table\":\"Payment\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}},{\"AddForeignKey\":{\"table\":\"Payment\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}},{\"AddForeignKey\":{\"table\":\"User\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}}],\"corrected_steps\":[{\"CreateTable\":{\"table\":{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}}},{\"CreateTable\":{\"table\":{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]}}},{\"CreateTable\":{\"table\":{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]}}},{\"CreateTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}}},{\"AddForeignKey\":{\"table\":\"Payment\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}},{\"AddForeignKey\":{\"table\":\"Payment\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}},{\"AddForeignKey\":{\"table\":\"User\",\"foreign_key\":{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}}}],\"rollback\":[{\"DropTable\":{\"name\":\"Payment\"}},{\"DropTable\":{\"name\":\"SubscriptionPlan\"}},{\"DropTable\":{\"name\":\"Telemetry\"}},{\"DropTable\":{\"name\":\"User\"}}]}','[]','2020-03-14 23:27:50.833','2020-03-14 23:27:51.117'),(2,'20200315050411-remove-email','enum SourceLanguage {\n  AUTO\n  EN\n  DE\n  ES\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n}\n\nenum Plan {\n  PAST\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n}','MigrationSuccess',0,0,'[{\"tag\":\"UpdateEnum\",\"enum\":\"Plan\",\"deletedValues\":[\"GUEST\",\"INTRO_5\",\"PLAN_9\",\"YEARLY_100\",\"LIFETIME_199\"]},{\"tag\":\"UpdateField\",\"model\":\"User\",\"field\":\"email\",\"arity\":\"Optional\"}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"AlterColumn\":{\"name\":\"email\",\"column\":{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}}]}}],\"corrected_steps\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"AlterColumn\":{\"name\":\"email\",\"column\":{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}}]}}],\"rollback\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"AlterColumn\":{\"name\":\"email\",\"column\":{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}}}]}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-14 23:34:24.216','2020-03-14 23:34:24.264'),(3,'20200315050900-fix-enums','enum SourceLanguage {\n  AUTO\n  EN\n  DE\n  ES\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n}','MigrationSuccess',0,0,'[{\"tag\":\"UpdateEnum\",\"enum\":\"Plan\",\"createdValues\":[\"GUEST\",\"INTRO_5\",\"PLAN_9\",\"YEARLY_100\",\"LIFETIME_199\"]}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[],\"corrected_steps\":[],\"rollback\":[{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-14 23:39:05.388','2020-03-14 23:39:05.398'),(4,'20200315051133-add-name','enum SourceLanguage {\n  AUTO\n  EN\n  DE\n  ES\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n  first_name           String?\n  last_name            String?\n}','MigrationSuccess',0,0,'[{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"first_name\",\"type\":\"String\",\"arity\":\"Optional\"},{\"tag\":\"CreateField\",\"model\":\"User\",\"field\":\"last_name\",\"type\":\"String\",\"arity\":\"Optional\"}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"AddColumn\":{\"column\":{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}},{\"AddColumn\":{\"column\":{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}}]}}],\"corrected_steps\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"AddColumn\":{\"column\":{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}},{\"AddColumn\":{\"column\":{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}}}]}}],\"rollback\":[{\"AlterTable\":{\"table\":{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},\"changes\":[{\"DropColumn\":{\"name\":\"first_name\"}},{\"DropColumn\":{\"name\":\"last_name\"}}]}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-14 23:41:36.425','2020-03-14 23:41:36.458'),(5,'20200315084326-add-nl','enum SourceLanguage {\n  EN\n  DE\n  ES\n  NL\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n  NL\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n  first_name           String?\n  last_name            String?\n}','MigrationSuccess',0,0,'[{\"tag\":\"UpdateEnum\",\"enum\":\"SourceLanguage\",\"createdValues\":[\"NL\"],\"deletedValues\":[\"AUTO\"]},{\"tag\":\"UpdateEnum\",\"enum\":\"TargetLanguage\",\"createdValues\":[\"NL\"]}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[],\"corrected_steps\":[],\"rollback\":[{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-15 03:13:36.047','2020-03-15 03:13:36.056'),(6,'20200315085604-add-hi','enum SourceLanguage {\n  EN\n  DE\n  ES\n  NL\n  FR\n  HI\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n  NL\n  FR\n  HI\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n  first_name           String?\n  last_name            String?\n}','MigrationSuccess',0,0,'[{\"tag\":\"UpdateEnum\",\"enum\":\"SourceLanguage\",\"createdValues\":[\"FR\",\"HI\"]},{\"tag\":\"UpdateEnum\",\"enum\":\"TargetLanguage\",\"createdValues\":[\"FR\",\"HI\"]}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[],\"corrected_steps\":[],\"rollback\":[{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-15 03:26:08.256','2020-03-15 03:26:08.271'),(7,'20200315090433-add-languages','enum SourceLanguage {\n  EN\n  DE\n  ES\n  NL\n  FR\n  HI\n  IT\n  JP\n  KR\n  RU\n  SE\n}\n\nenum TargetLanguage {\n  EN\n  DE\n  ES\n  NL\n  FR\n  HI\n  IT\n  JP\n  KR\n  RU\n  SE\n}\n\nenum Plan {\n  PAST\n  GUEST\n  INTRO_5\n  PLAN_9\n  YEARLY_100\n  LIFETIME_199\n}\n\nenum TelemetryType {\n  PROVIDER_PAYMENT_EVENT\n}\n\nenum UserType {\n  ADMIN\n  USER\n}\n\ndatasource db {\n  provider = \"mysql\"\n  url      = env(\"DB_URL\")\n}\n\nmodel Payment {\n  id                       String            @id @default(cuid())\n  createdAt                DateTime          @default(now())\n  updatedAt                DateTime          @default(now())\n  amount                   Int\n  provider_subscription_id String\n  provider_payment_id      String            @unique\n  subscription             SubscriptionPlan?\n}\n\nmodel SubscriptionPlan {\n  id                       String    @id @default(cuid())\n  provider_plan_id         String\n  provider_subscription_id String\n  payments                 Payment[]\n  users                    User[]    @relation(references: [subscription])\n}\n\nmodel Telemetry {\n  id            String        @id @default(cuid())\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now())\n  filename      String\n  payload       String\n  telemetry_key String\n  type          TelemetryType\n}\n\nmodel User {\n  id                   String            @id @default(cuid())\n  createdAt            DateTime          @default(now())\n  updatedAt            DateTime          @default(now())\n  email                String?           @unique\n  plan                 Plan\n  provider_customer_id String?\n  source_language      SourceLanguage    @default(value: AUTO)\n  target_language      TargetLanguage    @default(value: DE)\n  telegram_chat_id     String?           @unique\n  telegram_id          String?           @unique\n  type                 UserType          @default(value: USER)\n  subscription         SubscriptionPlan?\n  payment              Payment[]\n  first_name           String?\n  last_name            String?\n}','MigrationSuccess',0,0,'[{\"tag\":\"UpdateEnum\",\"enum\":\"SourceLanguage\",\"createdValues\":[\"IT\",\"JP\",\"KR\",\"RU\",\"SE\"]},{\"tag\":\"UpdateEnum\",\"enum\":\"TargetLanguage\",\"createdValues\":[\"IT\",\"JP\",\"KR\",\"RU\",\"SE\"]}]','{\"before\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"},{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"Payment_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":\"Payment_ibfk_2\",\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"varchar\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00.000\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"},{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":\"User_ibfk_1\",\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"_Migration\",\"columns\":[{\"name\":\"applied\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"database_migration\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"datamodel_steps\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"errors\",\"tpe\":{\"raw\":\"longtext\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"finished_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"name\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"revision\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":true},{\"name\":\"rolled_back\",\"tpe\":{\"raw\":\"int\",\"family\":\"int\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"started_at\",\"tpe\":{\"raw\":\"datetime\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"status\",\"tpe\":{\"raw\":\"text\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"revision\"],\"sequence\":null},\"foreignKeys\":[]}],\"enums\":[],\"sequences\":[]},\"after\":{\"tables\":[{\"name\":\"Payment\",\"columns\":[{\"name\":\"amount\",\"tpe\":{\"raw\":\"\",\"family\":\"int\",\"arity\":\"required\"},\"default\":\"0\",\"autoIncrement\":false},{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_payment_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"user\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false}],\"indices\":[{\"name\":\"Payment.provider_payment_id\",\"columns\":[\"provider_payment_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"},{\"constraintName\":null,\"columns\":[\"user\"],\"referencedTable\":\"User\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]},{\"name\":\"SubscriptionPlan\",\"columns\":[{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"provider_plan_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"provider_subscription_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"Telemetry\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"filename\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"payload\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"telemetry_key\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"\",\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PROVIDER_PAYMENT_EVENT\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[]},{\"name\":\"User\",\"columns\":[{\"name\":\"createdAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false},{\"name\":\"email\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"first_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"last_name\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"plan\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"PAST\",\"autoIncrement\":false},{\"name\":\"provider_customer_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"source_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"AUTO\",\"autoIncrement\":false},{\"name\":\"subscription\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"target_language\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"DE\",\"autoIncrement\":false},{\"name\":\"telegram_chat_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"telegram_id\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"nullable\"},\"default\":null,\"autoIncrement\":false},{\"name\":\"type\",\"tpe\":{\"raw\":\"\",\"family\":\"string\",\"arity\":\"required\"},\"default\":\"USER\",\"autoIncrement\":false},{\"name\":\"updatedAt\",\"tpe\":{\"raw\":\"\",\"family\":\"dateTime\",\"arity\":\"required\"},\"default\":\"1970-01-01 00:00:00\",\"autoIncrement\":false}],\"indices\":[{\"name\":\"User.email\",\"columns\":[\"email\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_chat_id\",\"columns\":[\"telegram_chat_id\"],\"tpe\":\"unique\"},{\"name\":\"User.telegram_id\",\"columns\":[\"telegram_id\"],\"tpe\":\"unique\"}],\"primaryKey\":{\"columns\":[\"id\"],\"sequence\":null},\"foreignKeys\":[{\"constraintName\":null,\"columns\":[\"subscription\"],\"referencedTable\":\"SubscriptionPlan\",\"referencedColumns\":[\"id\"],\"onDeleteAction\":\"setNull\"}]}],\"enums\":[],\"sequences\":[]},\"original_steps\":[],\"corrected_steps\":[],\"rollback\":[{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"Payment\",\"index\":{\"name\":\"user\",\"columns\":[\"user\"],\"tpe\":\"normal\"}}},{\"CreateIndex\":{\"table\":\"User\",\"index\":{\"name\":\"subscription\",\"columns\":[\"subscription\"],\"tpe\":\"normal\"}}}]}','[]','2020-03-15 03:34:36.424','2020-03-15 03:34:36.433');
/*!40000 ALTER TABLE `_Migration` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-03-15  9:13:46
